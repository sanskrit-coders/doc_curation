\documentclass[12pt,openany]{book}
\usepackage{fontspec}
\usepackage{ucharclasses}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{titlesec}
\usepackage{etoolbox}

__PAPER_GEOMETRY__

% --- 1. FONT CONFIGURATION ---
\setmainfont{Noto Sans}[Script=Latin,Renderer=HarfBuzz]

\newfontfamily\devanagarifont{Noto Sans Devanagari}[
  Script=Devanagari,
  Renderer=HarfBuzz,
  Scale=1.3,
  % Enabling Fake Slant for Devanagari Italics
  ItalicFont={Noto Sans Devanagari},
  ItalicFeatures={FakeSlant=0.2},
  BoldItalicFont={Noto Sans Devanagari},
  BoldItalicFeatures={FakeSlant=0.2, Weight=Bold}
]

% Automatic font switching
\setTransitionsForDevanagari{\devanagarifont}{\rmfamily}
\setTransitionsForDevanagariExtended{\devanagarifont}{\rmfamily}
\setTransitionsForDevanagariExtendedA{\devanagarifont}{\rmfamily}
\setTransitionsForVedicExtensions{\devanagarifont}{\rmfamily}
\setTransitionsFor{DevanagariDanDa}{\devanagarifont}{\rmfamily}

% --- 2. DEVANAGARI NUMERALS ---
\makeatletter
\newcommand{\devanagarinum}[1]{%
  \expandafter\@devanagarinum\number#1\@nil
}
\def\@devanagarinum#1{%
  \ifx#1\@nil\else
    \ifcase#1 ०\or १\or २\or ३\or ४\or ५\or ६\or ७\or ८\or ९\fi
    \expandafter\@devanagarinum
  \fi
}

% Apply Devanagari numerals to all levels
\renewcommand{\thepage}{\devanagarinum{\value{page}}}
\renewcommand{\thepart}{\devanagarinum{\value{part}}}
\renewcommand{\thechapter}{\devanagarinum{\value{chapter}}}
\renewcommand{\thesection}{\thechapter.\devanagarinum{\value{section}}}
\renewcommand{\thesubsection}{\thesection.\devanagarinum{\value{subsection}}}
\makeatother

% --- 3. REMOVE PAGE BREAKS & REDUCE SPACING ---
\makeatletter
% 1. Disable page-breaking globally for this document
\let\cleardoublepage\relax
\let\clearpage\relax
\let\newpage\relax

% 2. Redefine \part and \chapter to act like normal sections
\renewcommand\part{\@startsection{part}{0}{\z@}%
  {-2pt \@plus -1ex \@minus -.2ex}%
  {2pt \@plus.2ex}%
  {\normalfont\normalsize\bfseries}}

\renewcommand\chapter{\@startsection{chapter}{1}{\z@}%
  {-2pt \@plus -1ex \@minus -.2ex}%
  {2pt \@plus.2ex}%
  {\normalfont\normalsize\bfseries}}
\makeatother


% 2. Format Titles (Sizes and Labels)
\titleformat{\part}[hang]{\normalfont\normalsize\bfseries}{\thepart}{1.5em}{}
\titleformat{\chapter}[hang]{\normalfont\normalsize\bfseries}{\thechapter}{1.4em}{}
\titleformat{\section}[hang]{\normalfont\normalsize\bfseries}{\thesection}{1.2em}{}
\titleformat{\subsection}[hang]{\normalfont\normalsize\bfseries}{\thesubsection}{1.1em}{}
\titleformat{\subsubsection}[hang]{\normalfont\normalsize\bfseries}{\thesubsubsection}{1em}{}

% Control vertical gaps: {left}{before}{after}
\titlespacing*{\part}{0pt}{2pt}{2pt}
\titlespacing*{\chapter}{0pt}{2pt}{2pt}
\titlespacing*{\section}{0pt}{2pt}{2pt}
\titlespacing*{\subsection}{0pt}{2pt}{2pt}
\titlespacing*{\subsubsection}{0pt}{2pt}{2pt}

% Suppress "Part" and "Chapter" words
\renewcommand{\partname}{}
\renewcommand{\chaptername}{}

% --- 4. TABLE OF CONTENTS ---
\usepackage{tocloft}
\renewcommand{\contentsname}{Contents}
\renewcommand{\cftpartfont}{\bfseries\normalsize}
\renewcommand{\cftchapfont}{\bfseries\normalsize}
\renewcommand{\cftsecfont}{\bfseries\normalsize}
% Remove the page breaks before TOC
\patchcmd{\tableofcontents}{\clearpage}{}{}{}
\patchcmd{\tableofcontents}{\newpage}{}{}{}

% Inline comment style
\newcommand{\inlinecomment}[1]{%
  {\color[HTML]{1B1B1B}\textit{\small\raisebox{-0.3ex}{#1}}}%
}

__METADATA__

\begin{document}
% Remove page break after TOC
\tableofcontents
\vspace{2em} 

__LATEX_BODY__

\end{document}